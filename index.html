<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SecureText</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://accounts.google.com/gsi/client"></script>
</head>
<body>

<!-- LOCK SCREEN -->
<div id="lockScreen">
  <div class="lockBox">
    <h2>SecureText</h2>
    <input id="passwordInput" type="password" placeholder="Password" autocomplete="off">
    <div id="lockError"></div>
  </div>
</div>

<!-- CHANGE PASSWORD (ADMIN ONLY) -->
<div id="changePwdModal" class="hidden">
  <div class="lockBox">
    <h3>Change Vault Password</h3>
    <input id="oldPwd" type="password" placeholder="Current password">
    <input id="newPwd" type="password" placeholder="New password">
    <input id="newPwd2" type="password" placeholder="Confirm new password">
    <div id="changeError"></div>
    <button id="changePwdConfirmBtn">Re-encrypt Vault</button>
  </div>
</div>

<!-- ADMIN PANEL -->
<div id="adminModal" class="hidden">
  <div class="lockBox adminBox">
    <h3>Admin</h3>

    <div class="adminSection">
      <div><b>Google Drive</b></div>
      <div id="driveStatus">Not connected</div>
      <button id="connectDriveBtn">Connect / Change Drive Account</button>
    </div>

    <div class="adminSection">
      <button id="uploadVaultBtn">Upload Vault</button>
      <button id="downloadVaultBtn">Download Vault</button>
    </div>

    <div class="adminSection">
      <button id="openChangePwdBtn">Change Vault Password</button>
    </div>

    <button id="closeAdminBtn">Close</button>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">

  <!-- EXPLORER -->
  <div id="explorer">
    <div class="explorer-header">
      Files
      <div>
        <button id="newFolderBtn">ğŸ“+</button>
        <button id="newFileBtn">ğŸ“„+</button>
      </div>
    </div>
    <div id="tree"></div>
  </div>

  <!-- MAIN -->
  <div id="main">

    <!-- TOOLBAR -->
    <div id="toolbar">
      <button id="toggleExplorerBtn">â˜°</button>

      <button id="undoBtn">âŸ²</button>
      <button id="redoBtn">âŸ³</button>

      <button data-cmd="bold" class="fmt">B</button>
      <button data-cmd="italic" class="fmt">I</button>

      <input type="color" id="colorPicker">

      <button id="bulletBtn">â€¢ List</button>
      <button id="numberBtn">(1)</button>

      <span class="spacer"></span>

      <button id="encryptBtn">ğŸ”’ Encrypt</button>
      <button id="adminBtn">ğŸ›¡ Admin</button>
      <button id="logoutBtn">â» Logout</button>
    </div>

    <!-- EDITOR -->
    <div id="editor" contenteditable="true" spellcheck="false"></div>

  </div>
</div>

<script src="app.js" defer></script>
</body>
</html>
