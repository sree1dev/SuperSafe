<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SecureText</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<!-- ================= LOCK SCREEN ================= -->
<div id="lockScreen">
  <div class="lockBox">
    <h2>SecureText</h2>
    <input id="passwordInput" type="password" placeholder="Vault password" />
    <button id="unlockBtn">Unlock</button>
    <div id="lockError"></div>
  </div>
</div>

<!-- ================= ADMIN MODAL ================= -->
<div id="adminModal" class="modal hidden">
  <div class="modalContent">
    <h3>Admin</h3>

    <section>
      <strong>Google Drive</strong>
      <div id="driveStatus">Not connected</div>
      <button id="connectDriveBtn">Connect Drive</button>
    </section>

    <section>
      <strong>Security</strong>
      <button id="openChangePwdBtn">Change Password</button>
    </section>

    <button id="closeAdminBtn">Close</button>
  </div>
</div>

<!-- ================= CHANGE PASSWORD MODAL ================= -->
<div id="changePwdModal" class="modal hidden">
  <div class="modalContent">
    <h3>Change Password</h3>
    <input id="oldPwd" type="password" placeholder="Current password" />
    <input id="newPwd" type="password" placeholder="New password" />
    <input id="newPwd2" type="password" placeholder="Confirm new password" />
    <div id="changeError"></div>
    <button id="changePwdConfirmBtn">Re-encrypt Vault</button>
    <button id="closeChangePwdBtn">Cancel</button>
  </div>
</div>

<!-- ================= APP ================= -->
<div id="app" class="hidden">

  <!-- ===== EXPLORER ===== -->
  <aside id="explorer">
    <div class="explorerHeader">
      <span class="rootLabel">SecureText</span>
      <div class="explorerActions">
        <button id="newFolderBtn">+ Folder</button>
        <button id="newFileBtn">+ File</button>
      </div>
    </div>
    <div id="tree"></div>
  </aside>

  <!-- ===== MAIN ===== -->
  <main id="main">

    <!-- ===== FIXED TOP BAR ===== -->
<div id="toolbar">
  <!-- left -->
  <button id="toggleExplorerBtn">☰</button>

  <!-- formatting -->
  <button data-cmd="bold"><b>B</b></button>
  <button data-cmd="italic"><i>I</i></button>
  <button data-cmd="insertUnorderedList">• List</button>
  <button data-cmd="insertOrderedList">1. List</button>

  <span class="spacer"></span>

  <!-- sync / actions -->
  <button id="refreshBtn">Refresh</button>
  <button id="saveBtn">Encrypt & Save</button>
  <button id="adminBtn">Admin</button>
  <button id="logoutBtn">Logout</button>
</div>


    <!-- ===== EDITOR ===== -->
    <div id="editor" contenteditable="true" spellcheck="false"></div>

  </main>
</div>

<!-- ================= GOOGLE IDENTITY ================= -->
<script src="https://accounts.google.com/gsi/client" async defer></script>

<script>
  window.GOOGLE_CLIENT_ID = "628807779499-ql68bc363klkaiuesakd1eknc38qmcah.apps.googleusercontent.com";
</script>

<script src="js/core.js"></script>
<script src="js/drive.js"></script>
<script src="js/cache.js"></script>
<script src="js/ui.js"></script>

</body>
</html>
